<h1>Hola mundo</h1>

<div>
    <h1>Awesome chart 1</h1>
    <button id="modal-btn" onclick="openHighChartsEditor(0)">Open HS Editor</button>
    <div id="myChart_one">
    </div>
</div>


<div>
    <h1>Awesome chart 2</h1>
    <button id="modal-btn" onclick="openHighChartsEditor(1)">Open HS Editor</button>
    <div id="myChart_two">
    </div>
</div>


<div>
    <h1>Awesome chart 3</h1>
    <button id="modal-btn" onclick="openHighChartsEditor(2)">Open HS Editor</button>
    <div id="myChart_three">
    </div>
</div>

<script>

    (function() {

        //scope vars
        var
                chart1 = {
                    strJson: "{\"title\":{\"text\":\"\"},\"subtitle\":{\"text\":\"my chart1\"},\"xAxis\":{\"type\":\"category\",\"categories\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\"]},\"yAxis\":{\"title\":{\"text\":\"\"}},\"series\":[{\"name\":\"ARGENTINA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":9.1,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":9.6,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":9,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"BOLIVIA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":null,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"BRAZIL\",\"data\":[{\"name\":\"January\",\"y\":12.2,\"visible\":true},{\"name\":\"February\",\"y\":12.6,\"visible\":true},{\"name\":\"March\",\"y\":13.1,\"visible\":true},{\"name\":\"April\",\"y\":12.9,\"visible\":true},{\"name\":\"May\",\"y\":12.7,\"visible\":true},{\"name\":\"June\",\"y\":12.4,\"visible\":true},{\"name\":\"July\",\"y\":12.3,\"visible\":true},{\"name\":\"August\",\"y\":12.1,\"visible\":true},{\"name\":\"September\",\"y\":11.9,\"visible\":true},{\"name\":\"October\",\"y\":11.7,\"visible\":true},{\"name\":\"November\",\"y\":11.6,\"visible\":true}]},{\"name\":\"CHILE\",\"data\":[{\"name\":\"January\",\"y\":6.5,\"visible\":true},{\"name\":\"February\",\"y\":6.7,\"visible\":true},{\"name\":\"March\",\"y\":6.9,\"visible\":true},{\"name\":\"April\",\"y\":6.7,\"visible\":true},{\"name\":\"May\",\"y\":7,\"visible\":true},{\"name\":\"June\",\"y\":7.2,\"visible\":true},{\"name\":\"July\",\"y\":7.3,\"visible\":true},{\"name\":\"August\",\"y\":7.3,\"visible\":true},{\"name\":\"September\",\"y\":7.1,\"visible\":true},{\"name\":\"October\",\"y\":7.1,\"visible\":true},{\"name\":\"November\",\"y\":6.8,\"visible\":true}]},{\"name\":\"COLOMBIA\",\"data\":[{\"name\":\"January\",\"y\":11.8,\"visible\":true},{\"name\":\"February\",\"y\":10.8,\"visible\":true},{\"name\":\"March\",\"y\":9.4,\"visible\":true},{\"name\":\"April\",\"y\":9.5,\"visible\":true},{\"name\":\"May\",\"y\":9.7,\"visible\":true},{\"name\":\"June\",\"y\":9.1,\"visible\":true},{\"name\":\"July\",\"y\":9.7,\"visible\":true},{\"name\":\"August\",\"y\":9.2,\"visible\":true},{\"name\":\"September\",\"y\":9.5,\"visible\":true},{\"name\":\"October\",\"y\":9.1,\"visible\":true},{\"name\":\"November\",\"y\":8.8,\"visible\":true}]},{\"name\":\"COSTA_RICA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":10.26,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":8.67,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"ECUADOR\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":4.4,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":4.1,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":4,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"GUATEMALA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":null,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"MEXICO\",\"data\":[{\"name\":\"January\",\"y\":3.4,\"visible\":true},{\"name\":\"February\",\"y\":3.3,\"visible\":true},{\"name\":\"March\",\"y\":3.2,\"visible\":true},{\"name\":\"April\",\"y\":3.4,\"visible\":true},{\"name\":\"May\",\"y\":3.2,\"visible\":true},{\"name\":\"June\",\"y\":3.4,\"visible\":true},{\"name\":\"July\",\"y\":3.4,\"visible\":true},{\"name\":\"August\",\"y\":3.3,\"visible\":true},{\"name\":\"September\",\"y\":3.3,\"visible\":true},{\"name\":\"October\",\"y\":3.2,\"visible\":true},{\"name\":\"November\",\"y\":3.3,\"visible\":true}]},{\"name\":\"PANAMA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":5.8,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":6,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"PERU\",\"data\":[{\"name\":\"January\",\"y\":7.3,\"visible\":true},{\"name\":\"February\",\"y\":8,\"visible\":true},{\"name\":\"March\",\"y\":8.1,\"visible\":true},{\"name\":\"April\",\"y\":7.3,\"visible\":true},{\"name\":\"May\",\"y\":6.6,\"visible\":true},{\"name\":\"June\",\"y\":6.2,\"visible\":true},{\"name\":\"July\",\"y\":6.2,\"visible\":true},{\"name\":\"August\",\"y\":6.1,\"visible\":true},{\"name\":\"September\",\"y\":6.2,\"visible\":true},{\"name\":\"October\",\"y\":6.4,\"visible\":true},{\"name\":\"November\",\"y\":6.2,\"visible\":true}]},{\"name\":\"DOMINICAN_REPUBLIC\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":5.3,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]}],\"credits\":{\"text\":\"\"}}",
                    obj: undefined
                },
                chart2 = {
                    strJson: "{\"title\":{\"text\":\"\"},\"subtitle\":{\"text\":\"my chart2\"},\"xAxis\":{\"type\":\"category\",\"categories\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\"]},\"yAxis\":{\"title\":{\"text\":\"\"}},\"series\":[{\"name\":\"ARGENTINA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":9.1,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":9.6,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":9,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"BOLIVIA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":null,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"BRAZIL\",\"data\":[{\"name\":\"January\",\"y\":12.2,\"visible\":true},{\"name\":\"February\",\"y\":12.6,\"visible\":true},{\"name\":\"March\",\"y\":13.1,\"visible\":true},{\"name\":\"April\",\"y\":12.9,\"visible\":true},{\"name\":\"May\",\"y\":12.7,\"visible\":true},{\"name\":\"June\",\"y\":12.4,\"visible\":true},{\"name\":\"July\",\"y\":12.3,\"visible\":true},{\"name\":\"August\",\"y\":12.1,\"visible\":true},{\"name\":\"September\",\"y\":11.9,\"visible\":true},{\"name\":\"October\",\"y\":11.7,\"visible\":true},{\"name\":\"November\",\"y\":11.6,\"visible\":true}]},{\"name\":\"CHILE\",\"data\":[{\"name\":\"January\",\"y\":6.5,\"visible\":true},{\"name\":\"February\",\"y\":6.7,\"visible\":true},{\"name\":\"March\",\"y\":6.9,\"visible\":true},{\"name\":\"April\",\"y\":6.7,\"visible\":true},{\"name\":\"May\",\"y\":7,\"visible\":true},{\"name\":\"June\",\"y\":7.2,\"visible\":true},{\"name\":\"July\",\"y\":7.3,\"visible\":true},{\"name\":\"August\",\"y\":7.3,\"visible\":true},{\"name\":\"September\",\"y\":7.1,\"visible\":true},{\"name\":\"October\",\"y\":7.1,\"visible\":true},{\"name\":\"November\",\"y\":6.8,\"visible\":true}]},{\"name\":\"COLOMBIA\",\"data\":[{\"name\":\"January\",\"y\":11.8,\"visible\":true},{\"name\":\"February\",\"y\":10.8,\"visible\":true},{\"name\":\"March\",\"y\":9.4,\"visible\":true},{\"name\":\"April\",\"y\":9.5,\"visible\":true},{\"name\":\"May\",\"y\":9.7,\"visible\":true},{\"name\":\"June\",\"y\":9.1,\"visible\":true},{\"name\":\"July\",\"y\":9.7,\"visible\":true},{\"name\":\"August\",\"y\":9.2,\"visible\":true},{\"name\":\"September\",\"y\":9.5,\"visible\":true},{\"name\":\"October\",\"y\":9.1,\"visible\":true},{\"name\":\"November\",\"y\":8.8,\"visible\":true}]},{\"name\":\"COSTA_RICA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":10.26,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":8.67,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"ECUADOR\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":4.4,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":4.1,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":4,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"GUATEMALA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":null,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"MEXICO\",\"data\":[{\"name\":\"January\",\"y\":3.4,\"visible\":true},{\"name\":\"February\",\"y\":3.3,\"visible\":true},{\"name\":\"March\",\"y\":3.2,\"visible\":true},{\"name\":\"April\",\"y\":3.4,\"visible\":true},{\"name\":\"May\",\"y\":3.2,\"visible\":true},{\"name\":\"June\",\"y\":3.4,\"visible\":true},{\"name\":\"July\",\"y\":3.4,\"visible\":true},{\"name\":\"August\",\"y\":3.3,\"visible\":true},{\"name\":\"September\",\"y\":3.3,\"visible\":true},{\"name\":\"October\",\"y\":3.2,\"visible\":true},{\"name\":\"November\",\"y\":3.3,\"visible\":true}]},{\"name\":\"PANAMA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":5.8,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":6,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"PERU\",\"data\":[{\"name\":\"January\",\"y\":7.3,\"visible\":true},{\"name\":\"February\",\"y\":8,\"visible\":true},{\"name\":\"March\",\"y\":8.1,\"visible\":true},{\"name\":\"April\",\"y\":7.3,\"visible\":true},{\"name\":\"May\",\"y\":6.6,\"visible\":true},{\"name\":\"June\",\"y\":6.2,\"visible\":true},{\"name\":\"July\",\"y\":6.2,\"visible\":true},{\"name\":\"August\",\"y\":6.1,\"visible\":true},{\"name\":\"September\",\"y\":6.2,\"visible\":true},{\"name\":\"October\",\"y\":6.4,\"visible\":true},{\"name\":\"November\",\"y\":6.2,\"visible\":true}]},{\"name\":\"DOMINICAN_REPUBLIC\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":5.3,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]}],\"credits\":{\"text\":\"\"},\"data\":{\"csv\":\"category;ARGENTINA;BRAZIL;CHILE;COLOMBIA;COSTA_RICA;ECUADOR;MEXICO;PANAMA;PERU;DOMINICAN_REPUBLIC\\r\\nMarch;9.1;13.1;6.9;9.4;10.26;4.4;3.2;5.8;8.1;5.3\\r\\nJune;9.6;12.4;7.2;9.1;8.67;4.1;3.4;;6.2;\\r\\nSeptember;9;11.9;7.1;9.5;;4;3.3;;6.2;\\r\\nJanuary;;12.2;6.5;11.8;;;3.4;;7.3;\\r\\nFebruary;;12.6;6.7;10.8;;;3.3;;8;\\r\\nApril;;12.9;6.7;9.5;;;3.4;;7.3;\\r\\nMay;;12.7;7;9.7;;;3.2;;6.6;\\r\\nJuly;;12.3;7.3;9.7;;;3.4;;6.2;\\r\\nAugust;;12.1;7.3;9.2;;;3.3;6;6.1;\\r\\nOctober;;11.7;7.1;9.1;;;3.2;;6.4;\\r\\nNovember;;11.6;6.8;8.8;;;3.3;;6.2;\"}}",
                    obj: undefined
                },
                chart3 = {
                    strJson: "{\"title\":{\"text\":\"\"},\"subtitle\":{\"text\":\"my chart3\"},\"xAxis\":{\"type\":\"category\",\"categories\":[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\"]},\"yAxis\":{\"title\":{\"text\":\"\"}},\"series\":[{\"name\":\"ARGENTINA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":9.1,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":9.6,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":9,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"BOLIVIA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":null,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"BRAZIL\",\"data\":[{\"name\":\"January\",\"y\":12.2,\"visible\":true},{\"name\":\"February\",\"y\":12.6,\"visible\":true},{\"name\":\"March\",\"y\":13.1,\"visible\":true},{\"name\":\"April\",\"y\":12.9,\"visible\":true},{\"name\":\"May\",\"y\":12.7,\"visible\":true},{\"name\":\"June\",\"y\":12.4,\"visible\":true},{\"name\":\"July\",\"y\":12.3,\"visible\":true},{\"name\":\"August\",\"y\":12.1,\"visible\":true},{\"name\":\"September\",\"y\":11.9,\"visible\":true},{\"name\":\"October\",\"y\":11.7,\"visible\":true},{\"name\":\"November\",\"y\":11.6,\"visible\":true}]},{\"name\":\"CHILE\",\"data\":[{\"name\":\"January\",\"y\":6.5,\"visible\":true},{\"name\":\"February\",\"y\":6.7,\"visible\":true},{\"name\":\"March\",\"y\":6.9,\"visible\":true},{\"name\":\"April\",\"y\":6.7,\"visible\":true},{\"name\":\"May\",\"y\":7,\"visible\":true},{\"name\":\"June\",\"y\":7.2,\"visible\":true},{\"name\":\"July\",\"y\":7.3,\"visible\":true},{\"name\":\"August\",\"y\":7.3,\"visible\":true},{\"name\":\"September\",\"y\":7.1,\"visible\":true},{\"name\":\"October\",\"y\":7.1,\"visible\":true},{\"name\":\"November\",\"y\":6.8,\"visible\":true}]},{\"name\":\"COLOMBIA\",\"data\":[{\"name\":\"January\",\"y\":11.8,\"visible\":true},{\"name\":\"February\",\"y\":10.8,\"visible\":true},{\"name\":\"March\",\"y\":9.4,\"visible\":true},{\"name\":\"April\",\"y\":9.5,\"visible\":true},{\"name\":\"May\",\"y\":9.7,\"visible\":true},{\"name\":\"June\",\"y\":9.1,\"visible\":true},{\"name\":\"July\",\"y\":9.7,\"visible\":true},{\"name\":\"August\",\"y\":9.2,\"visible\":true},{\"name\":\"September\",\"y\":9.5,\"visible\":true},{\"name\":\"October\",\"y\":9.1,\"visible\":true},{\"name\":\"November\",\"y\":8.8,\"visible\":true}]},{\"name\":\"COSTA_RICA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":10.26,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":8.67,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"ECUADOR\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":4.4,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":4.1,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":4,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"GUATEMALA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":null,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"MEXICO\",\"data\":[{\"name\":\"January\",\"y\":3.4,\"visible\":true},{\"name\":\"February\",\"y\":3.3,\"visible\":true},{\"name\":\"March\",\"y\":3.2,\"visible\":true},{\"name\":\"April\",\"y\":3.4,\"visible\":true},{\"name\":\"May\",\"y\":3.2,\"visible\":true},{\"name\":\"June\",\"y\":3.4,\"visible\":true},{\"name\":\"July\",\"y\":3.4,\"visible\":true},{\"name\":\"August\",\"y\":3.3,\"visible\":true},{\"name\":\"September\",\"y\":3.3,\"visible\":true},{\"name\":\"October\",\"y\":3.2,\"visible\":true},{\"name\":\"November\",\"y\":3.3,\"visible\":true}]},{\"name\":\"PANAMA\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":5.8,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":6,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]},{\"name\":\"PERU\",\"data\":[{\"name\":\"January\",\"y\":7.3,\"visible\":true},{\"name\":\"February\",\"y\":8,\"visible\":true},{\"name\":\"March\",\"y\":8.1,\"visible\":true},{\"name\":\"April\",\"y\":7.3,\"visible\":true},{\"name\":\"May\",\"y\":6.6,\"visible\":true},{\"name\":\"June\",\"y\":6.2,\"visible\":true},{\"name\":\"July\",\"y\":6.2,\"visible\":true},{\"name\":\"August\",\"y\":6.1,\"visible\":true},{\"name\":\"September\",\"y\":6.2,\"visible\":true},{\"name\":\"October\",\"y\":6.4,\"visible\":true},{\"name\":\"November\",\"y\":6.2,\"visible\":true}]},{\"name\":\"DOMINICAN_REPUBLIC\",\"data\":[{\"name\":\"January\",\"y\":null,\"visible\":true},{\"name\":\"February\",\"y\":null,\"visible\":true},{\"name\":\"March\",\"y\":5.3,\"visible\":true},{\"name\":\"April\",\"y\":null,\"visible\":true},{\"name\":\"May\",\"y\":null,\"visible\":true},{\"name\":\"June\",\"y\":null,\"visible\":true},{\"name\":\"July\",\"y\":null,\"visible\":true},{\"name\":\"August\",\"y\":null,\"visible\":true},{\"name\":\"September\",\"y\":null,\"visible\":true},{\"name\":\"October\",\"y\":null,\"visible\":true},{\"name\":\"November\",\"y\":null,\"visible\":true}]}],\"credits\":{\"text\":\"\"},\"data\":{\"csv\":\"category;ARGENTINA;BRAZIL;CHILE;COLOMBIA;COSTA_RICA;ECUADOR;MEXICO;PANAMA;PERU;DOMINICAN_REPUBLIC\\r\\nMarch;9.1;13.1;6.9;9.4;10.26;4.4;3.2;5.8;8.1;5.3\\r\\nJune;9.6;12.4;7.2;9.1;8.67;4.1;3.4;;6.2;\\r\\nSeptember;9;11.9;7.1;9.5;;4;3.3;;6.2;\\r\\nJanuary;;12.2;6.5;11.8;;;3.4;;7.3;\\r\\nFebruary;;12.6;6.7;10.8;;;3.3;;8;\\r\\nApril;;12.9;6.7;9.5;;;3.4;;7.3;\\r\\nMay;;12.7;7;9.7;;;3.2;;6.6;\\r\\nJuly;;12.3;7.3;9.7;;;3.4;;6.2;\\r\\nAugust;;12.1;7.3;9.2;;;3.3;6;6.1;\\r\\nOctober;;11.7;7.1;9.1;;;3.2;;6.4;\\r\\nNovember;;11.6;6.8;8.8;;;3.3;;6.2;\"}}",
                    obj: undefined
                },
                charts = [],
                modalEditor, indexDataviewSelected;

        initialize();


        function initialize() {

            chart1.obj = _parseStrJson(chart1.strJson);
            chart2.obj = _parseStrJson(chart2.strJson);
            chart3.obj = _parseStrJson(chart3.strJson);

            fixObj(chart1.obj);
            console.log(chart1.obj);

            charts.push(chart1);
            charts.push(chart2);
            charts.push(chart3);

            //define modal
            modalEditor = highed.ModalEditor('modal-btn', {
                allowDone: true,
                features: 'templates customize'
            }, closeHighchartsEditor);

            //display charts
            updateCharts();
        }


        function updateCharts () {
            //char1
            var myCharOne = document.getElementById("myChart_one");
            Highcharts.chart(myCharOne, charts[0].obj );

            //char2
            var myCharTwo = document.getElementById("myChart_two");
            Highcharts.chart(myCharTwo, charts[1].obj);

            //char3
            var myCharThree = document.getElementById("myChart_three");
            Highcharts.chart(myCharThree, charts[2].obj);
        }

        //Open Editor
        function openHighChartsEditor (index) {
            indexDataviewSelected = index;
            modalEditor.editor.chart.data.json(charts[index].obj);
            modalEditor.show();
        }
        window.openHighChartsEditor = openHighChartsEditor;

        //Close Editor
        function closeHighchartsEditor (chart) {
            let json = chart.export.json(true);
            console.log(json);
            charts[indexDataviewSelected].obj = _updateJson(json, charts[indexDataviewSelected].obj);
            indexDataviewSelected = -1;
            modalEditor.editor.destroy();
            updateCharts();
        }

        function _parseStrJson(strJson) {
            var json;
            if (!strJson) return {};
            try {
                json = JSON.parse(strJson);
            } catch (err) {
                var strCsvData, strEnd, tmpJson;
                //Highcharts editor, save the series data in the csv attribute that is a string type,
                // how the strJson is a string the JSON.parse method throw a error.
                // This second apprach solve this problem.
                strEnd = strJson.substring(strJson.lastIndexOf("csv\":") + 6, strJson.length - 1);
                strCsvData = strEnd.substring(0, strEnd.lastIndexOf("\",\""));
                tmpJson = strJson.replace(strCsvData,'');
                json = JSON.parse(tmpJson);
                json.data.csv = strCsvData;
            }
            return json;
        }

        function _updateJson (newJson, oldJson) {
            // json from modal doesnt have data values in series, so merge all attribute except series.
            var tmpJson = Object.assign({}, oldJson);
            oldJson = null; //necesary to watcher detection.
            var tmpSeries = Object.assign({}, tmpJson.series);
            tmpJson = Object.assign(tmpJson, newJson);
            tmpJson.series = Object.assign(tmpJson.series, tmpSeries);
            oldJson = tmpJson;
            return oldJson;
        }

        function fixObj(obj) {
            var i, j;
            for (i = 0; i <  obj.series.length; i++) {
                if (obj.series[i]) {
                    for (j = 0; j < obj.series[i].data.length; j++) {
                        obj.series[i].data[j] = [
                            obj.series[i].data[j].name,
                            obj.series[i].data[j].y
                        ];
                    }
                }
            }
            //fix issue of reset values of xAxis
            obj["xAxis"] = {
                type: "category",
                uniqueNames: false
            }
        }

    })();

</script>